<ion-header *ngFor="let note of emptyNote">
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Notes</ion-title>
    <ion-buttons end >
        <button ion-button (click)="modifyNote(note)">
            <ion-icon name="add"></ion-icon>
        </button>
    </ion-buttons>
  </ion-navbar>
  <ion-card *ngIf="display && selectedNote == note.id">
    <ion-card-content>
         <br>
         <new-note (cancelEvent)="modifyNote(note)"
             [modifiedNote]="noteToModify" [categories]="categories"
             (submitEvent)='onSubmitEvent($event)'>
         </new-note>
    </ion-card-content>
 </ion-card>
</ion-header>

<ion-content>
    <ion-list>
        <ion-card *ngFor="let note of notes">
            <ion-card-header>
                <b>{{note.title}}<br></b>
                {{note.categorie.name}} -
                {{note.date | date: 'dd-MM-yyyy'}}
            </ion-card-header>
            <ion-card-content>
                {{note.content}} <br>
                <button ion-button small (click)="deleteNote(note)">
                    Supprimer</button>
                <button ion-button small (click)="modifyNote(note)">
                        Modifier</button>
                <div *ngIf="display && selectedNote == note.id">
                   <br>
                   <new-note (cancelEvent)="modifyNote(note)"
                       [modifiedNote]="noteToModify" [categories]="categories"
                       (submitEvent)='onSubmitEvent($event)'>
                   </new-note>
               </div>
            </ion-card-content>
        </ion-card>
    </ion-list>
</ion-content>
